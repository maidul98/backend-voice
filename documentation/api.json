{
  "definitions": {
    "User": {
      "title": "User",
      "required": [
        "username",
        "email"
      ],
      "properties": {
        "username": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "hash": {
          "type": "string"
        },
        "salt": {
          "type": "string"
        },
        "verified": {
          "type": "boolean"
        },
        "suspended": {
          "type": "boolean"
        },
        "email": {
          "type": "string"
        },
        "_id": {
          "type": "string"
        }
      }
    },
    "Post": {
      "title": "Post",
      "required": [
        "user",
        "audio_key"
      ],
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "caption": {
          "type": "string"
        },
        "votes": {
          "type": "string"
        },
        "user": {
          "type": "string"
        },
        "comments_count": {
          "type": "number"
        },
        "audio_key": {
          "type": "string"
        },
        "_id": {
          "type": "string"
        }
      }
    },
    "Vote": {
      "title": "Vote",
      "required": [
        "post"
      ],
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "post": {
          "type": "string"
        },
        "upvoters": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "downvoters": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "voteCounts": {
          "type": "number"
        },
        "_id": {
          "type": "string"
        }
      }
    }
  },
  "host": "localhost:3000",
  "info": {
    "title": "jwt-auth",
    "version": "1.0.0",
    "license": {
      "name": "ISC"
    },
    "description": "Specification JSONs: [v2](/api-spec/v2), [v3](/api-spec/v3)."
  },
  "paths": {
    "*": {
      "options": {
        "summary": "*",
        "consumes": [
          "application/json"
        ],
        "parameters": [],
        "responses": {},
        "tags": []
      }
    },
    "/users/user": {
      "get": {
        "summary": "/users/user",
        "consumes": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "object",
              "properties": {
                "verified": {
                  "type": "boolean",
                  "example": false
                },
                "suspended": {
                  "type": "boolean",
                  "example": false
                },
                "_id": {
                  "type": "string",
                  "example": "6009a830d3d378157dcd4320"
                },
                "username": {
                  "type": "string",
                  "example": "maidul98"
                },
                "hash": {
                  "type": "string",
                  "example": "75f7a95bf74e5e432bffc5910a980793bc7369f09bb05ae930ea139861fd98256905c42b52ab66a472e97d4c80a97928c20c9edc20e019c8f65a14ef2313cbd1"
                },
                "salt": {
                  "type": "string",
                  "example": "d8beb4864bb19099b3e21ff1d5f660695080873941e7c4d62f58dcabf8d12e9c"
                },
                "email": {
                  "type": "string",
                  "example": "maidul98@gmail.com"
                },
                "createdAt": {
                  "type": "string",
                  "example": "2021-01-21T16:13:36.558Z"
                },
                "__v": {
                  "type": "number",
                  "example": 0
                }
              }
            }
          },
          "401": {}
        },
        "tags": [
          "User"
        ],
        "produces": [
          "application/json"
        ]
      }
    },
    "/users/login": {
      "post": {
        "summary": "/users/login",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "username": {
                  "type": "string",
                  "example": "maidul98"
                },
                "password": {
                  "type": "string",
                  "example": "******"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": true
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "verified": {
                      "type": "boolean",
                      "example": false
                    },
                    "suspended": {
                      "type": "boolean",
                      "example": false
                    },
                    "_id": {
                      "type": "string",
                      "example": "6009a830d3d378157dcd4320"
                    },
                    "username": {
                      "type": "string",
                      "example": "maidul98"
                    },
                    "hash": {
                      "type": "string",
                      "example": "75f7a95bf74e5e432bffc5910a980793bc7369f09bb05ae930ea139861fd98256905c42b52ab66a472e97d4c80a97928c20c9edc20e019c8f65a14ef2313cbd1"
                    },
                    "salt": {
                      "type": "string",
                      "example": "d8beb4864bb19099b3e21ff1d5f660695080873941e7c4d62f58dcabf8d12e9c"
                    },
                    "email": {
                      "type": "string",
                      "example": "maidul98@gmail.com"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2021-01-21T16:13:36.558Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    }
                  }
                },
                "token": {
                  "type": "string",
                  "example": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MDA5YTgzMGQzZDM3ODE1N2RjZDQzMjAiLCJpYXQiOjE2MTE0Mjg2OTI2OTgsImV4cCI6MTYxMTQyODc3OTA5OH0.NsaLLwwla_veHUfGodKrJs0kDL3RQb76T2K4HgY9I8RvGI-AAMnE71vBfAKil7BoYewTjDEWGdWVznpx5t6DMC_fpc0R8Gg3fPwsxnBtpixP06j_LPTocKiiqFA7nQc5aYiYbf7gHGFIV5PXPd5tySdQxFOlwdAA85KkW7d2WQTNfRwHn_IoDIM5_8XWlWq_WhezpjDVQgjohIL7e2VG-wtPQpg1V-uh-tMcDbQcFFzLadEaUQdjRQ0TtCsN2w0-TVozz-LDYd0tBt82dGJCeIW-IuARvT4flQhgAI432bKD3D4qfXGwnu0PZVtKguV1Rr5-vePXMBiRYhoIrmXM0N-rf4DoBy3O9wFFm3dld8suwC-c5l8Avl8hMRiL3lAWbsO7yIxgS9R6LiCafjl591ZDmE-Fbb096GjiH3YAlZ8ZZOmSPhori3kZaqqCKHgy6nG80zRAKJtr8l78yNt1xFx_8FEsE1c8vtwZtn6mDmi4DRj--on31DUsdg7AQ2xDvk95w-DHWOaOH0g4eQyiYG67jiWPPdIEGMri2q6fztEi8ycNuMPH6SbGurt0C6q9VInnQMhlBDV9x3Xjpe3tFaC1ISBz5bRJuuQGyEpGE-9bifYSN79cqamzXmrkF34hUx36-osQSQ3XKqh4_DciDcZU3a78xOmqA-NHciyLC00"
                },
                "expiresIn": {
                  "type": "string",
                  "example": "1d"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ],
        "produces": [
          "application/json"
        ]
      }
    },
    "/users/register": {
      "post": {
        "summary": "/users/register",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "username": {
                  "type": "string",
                  "example": "theflying"
                },
                "password": {
                  "type": "string",
                  "example": "******"
                },
                "email": {
                  "type": "string",
                  "example": "maidull@gmail.com"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": true
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "verified": {
                      "type": "boolean",
                      "example": false
                    },
                    "suspended": {
                      "type": "boolean",
                      "example": false
                    },
                    "_id": {
                      "type": "string",
                      "example": "600c741efac0ae13a2724669"
                    },
                    "username": {
                      "type": "string",
                      "example": "theflying"
                    },
                    "hash": {
                      "type": "string",
                      "example": "41320f909067446f378b0e0d8779013c6b8135efa3f61c1b17db3f7ae292ddd3b300b52921f930c166662400a6de13e4d3e8491f31db20b21816fe3e8c41aa59"
                    },
                    "salt": {
                      "type": "string",
                      "example": "58a261b8517abaf780bf0c376b0341a427a2ff1500ff20da758be1f4545312d2"
                    },
                    "email": {
                      "type": "string",
                      "example": "maidull@gmail.com"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2021-01-23T19:08:14.871Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    }
                  }
                },
                "token": {
                  "type": "string",
                  "example": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MDBjNzQxZWZhYzBhZTEzYTI3MjQ2NjkiLCJpYXQiOjE2MTE0Mjg4OTUwNTYsImV4cCI6MTYxMTQyODk4MTQ1Nn0.ZifM1lenh7zx60ATEc4AimVWv9cx3aX-JNJLsQji2fG6T4nqmyNelzCmtxDBWFyd0saVFxLnhNV0VKa4XM-BUXDxkCoqOOhmklIrufUA2AFVFQMDgKm7ZYpt64kfk8PQPxgRqFlFrgjVdSEmBVaThrni3YZwprmYrnSTG80aVQvrcn32mWM_zBee11hadmJW6zwQ7Yer6Bc5hjU63YyqNegIuZ4v4OIr9bqwlrNAieuYZVzCGF0B8HwCO8p6Zy_osHqwpfk9A8Ftd_9v12tEsWZOh3kLuzDrq8pLmrQ80Ph3uLpeZhhoWYl5DGtE55EA_ed57PMvCi8XanTI2Y96p808Gc5TZaPnspfooLfIZel9vGJ_o4KR3sBgdSakdYzHZ8gorpg22oTLg-9cZgYK3rnVF-8icLfTJ6dZi5M1-fZphNzaIuuj9-x6rUI5bSWsHXkNyn699apOIE2Oz477JfU1NzYd5bMLJAMdUKtDpXjkg4-dccVyLfUr-eGt6P3HzI1oWd5Ew8z1Oqmrvi0sl2a9q5U3ZjkO3H0ymMqxNK5hHcDWCkmzXqf5UpefwoaoGTDCGerIqKvmG0wZZPitI9oy1EilBto7GDO6I1QtHly-gEHMPak31S0fEv5zKhRi5JZL8eZstuJtFwcAY-ItMiC6srtm_0QCKRfjb6ELaz0"
                },
                "expiresIn": {
                  "type": "string",
                  "example": "1d"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Error, expected `username` to be unique. Value: `maiduld`"
                        },
                        "name": {
                          "type": "string",
                          "example": "ValidatorError"
                        },
                        "properties": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string",
                              "example": "Error, expected `username` to be unique. Value: `maiduld`"
                            },
                            "type": {
                              "type": "string",
                              "example": "unique"
                            },
                            "path": {
                              "type": "string",
                              "example": "username"
                            },
                            "value": {
                              "type": "string",
                              "example": "maiduld"
                            }
                          }
                        },
                        "kind": {
                          "type": "string",
                          "example": "unique"
                        },
                        "path": {
                          "type": "string",
                          "example": "username"
                        },
                        "value": {
                          "type": "string",
                          "example": "maiduld"
                        }
                      }
                    }
                  }
                },
                "_message": {
                  "type": "string",
                  "example": "User validation failed"
                },
                "message": {
                  "type": "string",
                  "example": "User validation failed: username: Error, expected `username` to be unique. Value: `maiduld`"
                },
                "name": {
                  "type": "string",
                  "example": "ValidationError"
                }
              }
            }
          }
        },
        "tags": [
          "User"
        ],
        "produces": [
          "application/json"
        ]
      }
    },
    "/users/forgot": {
      "post": {
        "summary": "/users/forgot",
        "consumes": [
          "application/json"
        ],
        "parameters": [],
        "responses": {},
        "tags": [
          "User"
        ]
      }
    },
    "/posts/single/{id}": {
      "get": {
        "summary": "/posts/single/{id}",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {},
        "tags": [
          "Post"
        ]
      }
    },
    "/posts/trending-posts": {
      "get": {
        "summary": "/posts/trending-posts",
        "consumes": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "comments_count": {
                    "type": "number"
                  },
                  "_id": {
                    "type": "string"
                  },
                  "caption": {
                    "type": "string"
                  },
                  "user": {
                    "type": [
                      "object",
                      "null"
                    ],
                    "properties": {
                      "verified": {
                        "type": "boolean"
                      },
                      "suspended": {
                        "type": "boolean"
                      },
                      "_id": {
                        "type": "string"
                      },
                      "username": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "__v": {
                        "type": "number"
                      }
                    }
                  },
                  "audio_key": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string"
                  },
                  "__v": {
                    "type": "number"
                  },
                  "votes": {
                    "type": "object",
                    "properties": {
                      "upvoters": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "downvoters": {
                        "type": "array",
                        "items": {}
                      },
                      "voteCounts": {
                        "type": "number"
                      },
                      "_id": {
                        "type": "string"
                      },
                      "post": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "__v": {
                        "type": "number"
                      }
                    }
                  }
                },
                "required": [
                  "comments_count",
                  "_id",
                  "caption",
                  "user",
                  "audio_key",
                  "createdAt",
                  "__v",
                  "votes"
                ]
              }
            }
          }
        },
        "tags": [
          "Post"
        ],
        "produces": [
          "application/json"
        ]
      }
    },
    "/posts/new": {
      "post": {
        "summary": "/posts/new",
        "consumes": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "object",
              "properties": {
                "comments_count": {
                  "type": "number",
                  "example": 0
                },
                "_id": {
                  "type": "string",
                  "example": "600c84bcc75db51c71d74109"
                },
                "caption": {
                  "type": "string",
                  "example": "ssss"
                },
                "user": {
                  "type": "string",
                  "example": "6009a830d3d378157dcd4320"
                },
                "audio_key": {
                  "type": "string",
                  "example": "1611433144792"
                },
                "createdAt": {
                  "type": "string",
                  "example": "2021-01-23T20:19:08.595Z"
                },
                "__v": {
                  "type": "number",
                  "example": 0
                },
                "votes": {
                  "type": "object",
                  "properties": {
                    "upvoters": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "6009a830d3d378157dcd4320"
                      ]
                    },
                    "downvoters": {
                      "type": "array",
                      "items": {},
                      "example": [
                        null
                      ]
                    },
                    "voteCounts": {
                      "type": "number",
                      "example": 1
                    },
                    "_id": {
                      "type": "string",
                      "example": "600c84bcc75db51c71d7410a"
                    },
                    "post": {
                      "type": "string",
                      "example": "600c84bcc75db51c71d74109"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2021-01-23T20:19:08.659Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    }
                  }
                }
              }
            }
          },
          "413": {
            "description": "Payload Too Large",
            "schema": {
              "type": "string",
              "example": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>PayloadTooLargeError: request entity too large<br> &nbsp; &nbsp;at readStream (/Users/maidulislam/Desktop/backend-voice/node_modules/raw-body/index.js:155:17)<br> &nbsp; &nbsp;at getRawBody (/Users/maidulislam/Desktop/backend-voice/node_modules/raw-body/index.js:108:12)<br> &nbsp; &nbsp;at read (/Users/maidulislam/Desktop/backend-voice/node_modules/body-parser/lib/read.js:77:3)<br> &nbsp; &nbsp;at jsonParser (/Users/maidulislam/Desktop/backend-voice/node_modules/body-parser/lib/types/json.js:135:5)<br> &nbsp; &nbsp;at Layer.handle [as handle_request] (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/layer.js:95:5)<br> &nbsp; &nbsp;at trim_prefix (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:317:13)<br> &nbsp; &nbsp;at /Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:284:7<br> &nbsp; &nbsp;at Function.process_params (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:335:12)<br> &nbsp; &nbsp;at next (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:275:10)<br> &nbsp; &nbsp;at /Users/maidulislam/Desktop/backend-voice/node_modules/express-oas-generator/index.js:390:7<br> &nbsp; &nbsp;at Layer.handle [as handle_request] (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/layer.js:95:5)<br> &nbsp; &nbsp;at trim_prefix (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:317:13)<br> &nbsp; &nbsp;at /Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:284:7<br> &nbsp; &nbsp;at Function.process_params (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:335:12)<br> &nbsp; &nbsp;at next (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/router/index.js:275:10)<br> &nbsp; &nbsp;at expressInit (/Users/maidulislam/Desktop/backend-voice/node_modules/express/lib/middleware/init.js:40:5)</pre>\n</body>\n</html>\n"
            }
          }
        },
        "tags": [
          "Post"
        ],
        "produces": [
          "text/html",
          "application/json"
        ]
      }
    }
  },
  "schemes": [
    "http"
  ],
  "swagger": "2.0",
  "tags": [
    {
      "name": "User"
    },
    {
      "name": "Post"
    },
    {
      "name": "Vote"
    }
  ]
}